<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>测试Sdk</title>
  </head>
  
  <link rel="stylesheet"
        href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">


  <body>
    <div style="width: 100%; height: 1000px;">
    <input type="number" />
    </div>
    <div id="app">
      <template>
        
        <el-input v-model="test"></el-input>
      </template>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="./monitor.me.js"></script>
    <script>
      window.onload = function() {
        const monitor =new Monitor();
        console.log(monitor)
        asyncXhr()
        // fetch('http://localhost:8090/parse/test', {
        //   body: '{test:1}',
        //   method: 'post'
        // }).then(res => {
        //   console.log(res)
        // })
         var Main = {
          data() {
            return {
              value: '',
              test: ''
            }
          }
        }
        var Ctor = Vue.extend(Main)
        new Ctor().$mount('#app')
        // syncXhr().then(res => {
        //   console.log(res)
        // })
        
        // const img = new Image()
        // img.src = 'http://chuantu.xyz/t6/738/1591671510x992239403.jpg'
      }
      // window.addEventListener('error', function(e) {
      //   console.log(e)
      // })
      function syncXhr() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            reject({test:1})
          })
        })
        // const xhr = new XMLHttpRequest()
        // xhr.open("GET", "http://localhost:8090/parse/test");
        // xhr.send();
        // xhr.onreadystatechange = function () {
        //   console.log(xhr.readyState)
        //   console.log(xhr)
        // }
      }
      function asyncXhr() {
        const xhr = new XMLHttpRequest()
        xhr.open("get", "http://localhost:8090/parse/delay");
        const data = new FormData()
        xhr.setRequestHeader('content-type', 'application/json')
        xhr.send('{test:1}');
        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4){
            console.log(xhr.responseText)
          }
        }
      }
    </script>
  </body>
</html>